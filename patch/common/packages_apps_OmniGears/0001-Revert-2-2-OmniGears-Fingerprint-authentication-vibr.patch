From 91bb78a374c497c579a38f7dbcdcb063cbf54b67 Mon Sep 17 00:00:00 2001
From: sub77 <sub77@ymail.com>
Date: Mon, 29 Oct 2018 12:58:13 +0000
Subject: [PATCH] Revert "[2/2] OmniGears: Fingerprint authentication
 vibration"

This reverts commit 9e05f0945256966f926ecba7777220c219e888f9.
---
 res/xml/button_settings.xml                   |  6 ------
 src/org/omnirom/omnigears/ButtonSettings.java | 18 ------------------
 2 files changed, 24 deletions(-)

diff --git a/res/xml/button_settings.xml b/res/xml/button_settings.xml
index a4261b1..102ac95 100644
--- a/res/xml/button_settings.xml
+++ b/res/xml/button_settings.xml
@@ -65,12 +65,6 @@
             android:entryValues="@array/navbar_recents_style_values"
             android:persistent="false"/>
 
-        <org.omnirom.omnilib.preference.SystemSettingSwitchPreference
-            android:key="fingerprint_success_vib"
-            android:title="@string/fprint_sucess_vib_title"
-            android:summary="@string/fprint_sucess_vib_summary"
-            android:persistent="false" />
-
     </PreferenceCategory>
 
 </PreferenceScreen>
diff --git a/src/org/omnirom/omnigears/ButtonSettings.java b/src/org/omnirom/omnigears/ButtonSettings.java
index a70ca30..cfdcef7 100644
--- a/src/org/omnirom/omnigears/ButtonSettings.java
+++ b/src/org/omnirom/omnigears/ButtonSettings.java
@@ -61,13 +61,10 @@ public class ButtonSettings extends SettingsPreferenceFragment implements OnPref
     private static final String NAVIGATION_BAR_RECENTS_STYLE = "navbar_recents_style";
     private static final String KEY_BUTTON_LIGHT = "button_brightness";
     private static final String SYSTEM_PROXI_CHECK_ENABLED = "system_proxi_check_enabled";
-    private static final String FINGERPRINT_VIB = "fingerprint_success_vib";
 
     private ListPreference mNavbarRecentsStyle;
     private SwitchPreference mEnableNavBar;
     private Preference mButtonLight;
-    private FingerprintManager mFingerprintManager;
-    private SwitchPreference mFingerprintVib;
 
     @Override
     public int getMetricsCategory() {
@@ -118,16 +115,6 @@ public class ButtonSettings extends SettingsPreferenceFragment implements OnPref
         if (!DeviceUtils.deviceSupportsProximitySensor(getActivity()) || !supportPowerButtonProxyCheck) {
             powerCategory.removePreference(proxyCheckPreference);
         }
-
-        mFingerprintManager = (FingerprintManager) getActivity().getSystemService(Context.FINGERPRINT_SERVICE);
-        mFingerprintVib = (SwitchPreference) findPreference(FINGERPRINT_VIB);
-        if (!mFingerprintManager.isHardwareDetected()){
-            otherCategory.removePreference(mFingerprintVib);
-        } else {
-            mFingerprintVib.setChecked((Settings.System.getInt(getContentResolver(),
-                    Settings.System.OMNI_FINGERPRINT_SUCCESS_VIB, 1) == 1));
-            mFingerprintVib.setOnPreferenceChangeListener(this);
-        }
     }
 
     @Override
@@ -155,11 +142,6 @@ public class ButtonSettings extends SettingsPreferenceFragment implements OnPref
             mNavbarRecentsStyle.setSummary(mNavbarRecentsStyle.getEntries()[index]);
             Settings.System.putInt(getContentResolver(), Settings.System.OMNI_NAVIGATION_BAR_RECENTS, value);
             return true;
-        } else if (preference == mFingerprintVib) {
-            boolean value = (Boolean) newValue;
-            Settings.System.putInt(getActivity().getContentResolver(),
-                    Settings.System.OMNI_FINGERPRINT_SUCCESS_VIB, value ? 1 : 0);
-            return true;
         }
         return false;
     }
-- 
2.17.2

